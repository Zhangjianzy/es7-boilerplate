{"version":3,"sources":["../server.js"],"names":[],"mappings":";;;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAM,MAAM,wBAAZ,C,CALA;;AAMA,IAAM,OAAO,QAAQ,GAAR,CAAY,IAAZ,IAAoB,QAAQ,GAAR,CAAY,qBAAhC,IAAyD,IAAtE;AACA;AACA,IAAI,MAAJ,CAAW,OAAX,EAAoB,cAAI,SAAxB;AACA;AACA,IAAI,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;AACA;AACA,IAAI,GAAJ,CAAQ,OAAR,EAAoB,SAApB;AACA,IAAI,GAAJ,CAAQ,sBAAO,UAAP,CAAR;;AAEA,IAAI,KAAJ,CAAU,GAAV,EACC,GADD,CACK,UAAC,GAAD,EAAM,GAAN,EAAc;AACjB,MAAI,MAAJ,CAAW,GAAX,EAAgB,MAAhB,CAAuB,OAAvB,EAAgC;AAC9B,WAAO,UADuB;AAE9B,aAAS;AAFqB,GAAhC;AAID,CAND;;AAQA;;;;;;;AAOA,IAAI,GAAJ,CAAQ,UAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,IAAhB,EAAyB;AAC/B;AACA,MAAI,MAAJ,CAAW,GAAX,EAAgB,IAAhB,CAAqB,yBAArB;AACA;AACD,CAJD;;AAMA,IAAI,MAAJ,CAAW,IAAX,EAAiB,YAAM;AACrB;AACD,CAFD;;kBAIe,G","file":"server.js","sourcesContent":["/* server.js */\nimport express from 'express';\nimport morgan from 'morgan';\nimport ejs from 'ejs';\n\nconst app = express();\nconst port = process.env.PORT || process.env.OPENSHIFT_NODEJS_PORT || 8080;\n// 注册ejs模板为html页\napp.engine('.html', ejs.__express);\n// 设置视图模板的默认后缀名为.html,避免了每次res.Render(\"xx.html\")的尴尬\napp.set('view engine', 'html');\n// 设置模板文件文件夹,__dirname为全局变量,表示网站根目录\napp.set('views', `${__dirname}/views`);\napp.use(morgan('combined'));\n\napp.route('*')\n.get((req, res) => {\n  res.status(200).render('index', {\n    title: 'es7项目脚手架',\n    content: 'es7项目脚手架',\n  });\n});\n\n/**\n* 错误操作句柄\n* @param      err     错误\n* @param      req     请求\n* @param      res     响应\n* @param      next    控制权转移\n**/\napp.use((err, req, res, next) => {\n  // console.error(err.stack);\n  res.status(500).send('Something bad happened!');\n  next();\n});\n\napp.listen(port, () => {\n  // console.log(`the server is listening on port ${port}`);\n});\n\nexport default app;\n"]}